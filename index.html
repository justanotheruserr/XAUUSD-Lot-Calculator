<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>XAUUSD Lot Size & RR Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f9;
      padding: 30px;
    }
    .container {
      max-width: 550px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
    }
    input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 10px;
      background: #0077cc;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background: #005fa3;
    }
    .result {
      margin-top: 20px;
      font-size: 16px;
      color: #333;
    }
    .highlight {
      font-weight: bold;
      font-size: 18px;
      margin-top: 10px;
      text-align: center;
    }
    .warning {
      background: #fff3cd;
      border: 1px solid #ffeeba;
      color: #856404;
      padding: 10px;
      border-radius: 8px;
      margin-top: 10px;
      font-size: 14px;
    }
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin-top: 15px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    th, td {
      padding: 12px;
      text-align: center;
      border-bottom: 1px solid #ddd;
    }
    th {
      background: #0077cc;
      color: white;
      font-weight: bold;
    }
    tr:last-child td {
      border-bottom: none;
    }
    tr:hover {
      background: #f9f9f9;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 class="title">
      <span class="crown">üëë</span>XAUUSD Lot Size & RR Calculator
    </h2>

    <style>
      .title {
        position: relative;
        display: inline-block;
      }
      .crown {
        position: absolute;
        top: -25px;
        left: -17px;
        font-size: 28px;
        transform: rotate(-20deg);
      }
    </style>

    <label for="risk">Risk Amount (USD):</label>
    <input type="number" id="risk" placeholder="Enter risk amount in USD">

    <label for="entry">Entry Price:</label>
    <input type="number" id="entry" step="0.01" placeholder="e.g. 1967.45">

    <label for="slPrice">Stop Loss Price:</label>
    <input type="number" id="slPrice" step="0.01" placeholder="e.g. 1965.20">

    <button onclick="calculateLot()">Calculate</button>

    <div class="result" id="result"></div>
  </div>

  <script>
    function calculateLot() {
      let risk = parseFloat(document.getElementById("risk").value);
      let entry = parseFloat(document.getElementById("entry").value);
      let slPrice = parseFloat(document.getElementById("slPrice").value);

      if (isNaN(risk) || isNaN(entry) || isNaN(slPrice) || risk <= 0) {
        document.getElementById("result").innerHTML = "<p>Please enter valid numbers.</p>";
        return;
      }

      // Calculate SL in pips (for gold: difference * 100 / 10)
      let slPips = Math.abs((entry - slPrice) * 100) / 10;

      if (slPips <= 0) {
        document.getElementById("result").innerHTML = "<p>Stop Loss must be different from Entry Price.</p>";
        return;
      }

      // For XAUUSD: 1 lot = $10 per pip
      let pipValuePerLot = 10;

      // Lot size formula
      let lotSize = risk / (slPips * pipValuePerLot);

      // Calculate profits for 1:1, 1:2, 1:3 RR
      let reward1 = risk * 1; 
      let reward2 = risk * 2; 
      let reward3 = risk * 3; 

      // ROI %
      let roi1 = (reward1 / risk) * 100;
      let roi2 = (reward2 / risk) * 100;
      let roi3 = (reward3 / risk) * 100;

      // Stop Loss & Take Profit in pips
      let tp1 = slPips * 1;
      let tp2 = slPips * 2;
      let tp3 = slPips * 3;

      let warningMsg = "";
      if (tp1 > 100) {
        warningMsg = `<div class="warning">‚ö†Ô∏è High TP required for profit ( ${tp1.toFixed(1)} pips for 1:1 RR ). This may be difficult to achieve.</div>`;
      }

      document.getElementById("result").innerHTML = `
        <p class="highlight">Recommended Lot Size: ${lotSize.toFixed(2)} lots</p>
        <hr>
        <p><strong>Risk:</strong> $${risk.toFixed(2)} | <strong>Stop Loss:</strong> ${slPips.toFixed(1)} pips</p>
        
        <table>
          <tr>
            <th>RR Ratio</th>
            <th>Take Profit (pips)</th>
            <th>Profit (USD)</th>
            <th>ROI (%)</th>
          </tr>
          <tr>
            <td>1:1</td>
            <td>${tp1.toFixed(1)}</td>
            <td>$${reward1.toFixed(2)}</td>
            <td>${roi1.toFixed(0)}%</td>
          </tr>
          <tr>
            <td>1:2</td>
            <td>${tp2.toFixed(1)}</td>
            <td>$${reward2.toFixed(2)}</td>
            <td>${roi2.toFixed(0)}%</td>
          </tr>
          <tr>
            <td>1:3</td>
            <td>${tp3.toFixed(1)}</td>
            <td>$${reward3.toFixed(2)}</td>
            <td>${roi3.toFixed(0)}%</td>
          </tr>
        </table>
        ${warningMsg}
      `;
    }
  </script>
</body>
</html>
